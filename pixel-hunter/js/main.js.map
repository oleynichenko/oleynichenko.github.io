{"version":3,"file":"main.js","sources":["js/model.js","js/data/data.js","js/data/data-adapter.js","js/footer.js","js/view.js","js/screens/intro-view.js","js/screens/intro.js","js/screens/greeting-view.js","js/screens/greeting.js","js/header.js","js/screens/rules-view.js","js/screens/rules.js","js/screens/level-view.js","js/screens/level.js","js/screens/stats-view.js","js/screens/stats.js","js/app.js","js/main.js"],"sourcesContent":["const SERVER_URL = `https://intensive-ecmascript-server-btfgudlkpi.now.sh/pixel-hunter`;\nconst DEFAULT_NAME = `noname`;\n\nexport default new class {\n\n  constructor() {\n    this.name = DEFAULT_NAME;\n  }\n\n  set userName(name) {\n    if (name !== ` `) {\n      this.name = name;\n    }\n  }\n\n  load(adapter) {\n    return fetch(`${SERVER_URL}/questions`)\n      .then((resp) => resp.json())\n      .then(adapter.preprocess);\n  }\n\n  send(data, adapter) {\n    const requestSettings = {\n      body: adapter.toServer(data),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n    return fetch(`${SERVER_URL}/stats/${this.name}`, requestSettings);\n  }\n\n  loadResults(name = DEFAULT_NAME) {\n    return fetch(`${SERVER_URL}/stats/${this.name}`)\n      .then((resp) => resp.json());\n  }\n}();\n","export const Rules = {\n  LEVELS_QUANTITY: 0,\n  LIVES_QUANTITY: 3\n};\n\nexport const PassOptions = {\n  FAST: {\n    class: `fast`,\n    name: `Бонус за скорость`,\n    cost: 50,\n    duration: 20\n  },\n  CORRECT: {\n    class: `correct`,\n    cost: 100,\n    duration: 30\n  },\n  SLOW: {\n    class: `slow`,\n    duration: 10,\n    name: `Штраф за медленность`,\n    cost: -50,\n  },\n  WRONG: {\n    class: `wrong`\n  },\n  HEART: {\n    class: `heart`,\n    name: `Бонус за жизни`,\n    cost: 50,\n  },\n  UNKNOWN: {\n    class: `unknown`\n  }\n};\n\nexport const Task = Object.freeze({\n  FIRST: `two-of-two`,\n  SECOND: `tinder-like`,\n  THIRD: `one-of-three`\n});\n\nexport const taskOption = Object.freeze({\n  [Task.FIRST]: {\n    title: `Угадайте для каждого изображения фото или рисунок?`,\n    class: ``,\n    questions: [`question-1`, `question-2`]\n  },\n  [Task.SECOND]: {\n    title: `Угадай, фото или рисунок?`,\n    class: `game__content--wide`,\n    questions: [`question-1`]\n  },\n  [Task.THIRD]: {\n    title: `Найдите рисунок среди изображений`,\n    class: `game__content--triple`,\n    questions: []\n  }\n});\n\nexport let initialState = {\n  level: 1,\n  lives: Rules.LIVES_QUANTITY,\n  results: [],\n  time: PassOptions.CORRECT.duration\n};\n\nexport const getLevel = (num, data) => data[`level${num}`];\nexport const getTask = (level) => taskOption[level.task];\nexport const getTaskHeader = (taskName) => taskOption[taskName.header];\nexport const checkIsQuestion = (task) => task.questions.length > 0;\n\nexport const countLives = (number, result) => {\n  const isAnswerWrong = (result === PassOptions.WRONG.class) ? 1 : 0;\n  return number - isAnswerWrong;\n};\n\nexport const addResult = (index, result, arr) => {\n  arr[index] = result;\n  return arr;\n};\n\nexport const getNextState = (state, result) => Object.assign({}, state, {\n  level: state.level + 1,\n  lives: countLives(state.lives, result),\n  results: addResult(state.level - 1, result, state.results),\n  time: PassOptions.CORRECT.duration\n});\n\nexport const getLevelResult = (levelPassed, levelTime) => {\n  if (!levelPassed || levelTime <= 0) {\n    return PassOptions.WRONG.class;\n  } else if (levelPassed && levelTime > PassOptions.FAST.duration) {\n    return PassOptions.FAST.class;\n  } else if (levelPassed && levelTime < PassOptions.SLOW.duration) {\n    return PassOptions.SLOW.class;\n  } else if (levelPassed) {\n    return PassOptions.CORRECT.class;\n  } else {\n    return PassOptions.WRONG.class;\n  }\n};\n","import {Task} from './data';\n\nfunction receiveImages(arr) {\n  return arr.map(function (item) {\n    return {\n      src: item.image.url,\n      type: item.type\n    };\n  });\n}\n\nfunction receiveTask(string) {\n  let task = Task.FIRST;\n  switch (string) {\n    case `tinder-like`:\n      task = Task.SECOND;\n      break;\n    case `one-of-three`:\n      task = Task.THIRD;\n      break;\n  }\n  return task;\n}\n\nfunction receiveLevel(obj) {\n  return {\n    task: receiveTask(obj.type),\n    images: receiveImages(obj.answers)\n  };\n}\n\nexport default new class {\n\n  preprocess(data) {\n    const obj = {};\n\n    data.forEach(function (item, index) {\n      obj[`level${index + 1}`] = receiveLevel(item);\n    });\n\n    return obj;\n  }\n\n  toServer(data) {\n    return JSON.stringify({\n      stats: data.results,\n      lives: data.lives\n    });\n  }\n}();\n","const footer = `<footer class=\"footer\">\n  <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n  <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n  <div class=\"footer__social-links\">\n    <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n    <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n    <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n    <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n  </div>\n</footer>`;\n\nexport default ``;\n","const mainCentral = document.querySelector(`.central`);\n\nexport default class AbstractView {\n  get template() {\n    throw new Error(`You have to define template for view`);\n  }\n\n  createElement(text) {\n    const elem = document.createElement(`section`);\n    elem.innerHTML = text;\n    return elem;\n  }\n\n  showScreen() {\n    mainCentral.innerHTML = ``;\n    mainCentral.appendChild(this.element);\n  }\n\n  bind() {\n\n  }\n\n  get element() {\n    if (!this._element) {\n      this._element = this.createElement(this.template);\n      this.bind();\n    }\n    return this._element;\n  }\n}\n","import footer from '../footer.js';\nimport AbstractView from '../view.js';\n\nexport default class IntroView extends AbstractView {\n  get template() {\n    return `\n    <div id=\"main\" class=\"central__content\">\n      <div id=\"intro\" class=\"intro\">\n        <h1 class=\"intro__asterisk\">*</h1>\n        <p class=\"intro__motto\"><sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.</p>\n      </div>\n    </div>\n    ${footer}`;\n  }\n}\n","import IntroView from './intro-view';\n\nconst intro = new class {\n  constructor() {\n    this._view = new IntroView();\n  }\n\n  init() {\n    this._view.showScreen();\n  }\n}();\n\nexport default intro;\n","import footer from '../footer.js';\nimport AbstractView from '../view.js';\n\nexport default class GreetingView extends AbstractView {\n  get template() {\n    return `\n    <div class=\"greeting central--blur\">\n      <div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n      <h1 class=\"greeting__asterisk\">*</h1>\n      <div class=\"greeting__challenge\">\n        <h3>Лучшие художники-фотореалисты бросают тебе вызов!</h3>\n        <p>Правила игры просты.<br>\n          Нужно отличить рисунок от фотографии и сделать выбор.<br>\n          Задача кажется тривиальной, но не думай, что все так просто.<br>\n          Фотореализм обманчив и коварен.<br>\n          Помни, главное — смотреть очень внимательно.</p>\n      </div>\n      <div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"></span></div>\n    </div>\n    ${footer}`;\n  }\n\n  bind() {\n    const greetingContinue = this.element.querySelector(`.greeting__continue`);\n    greetingContinue.addEventListener(`click`, () => {\n      this.onNext();\n    });\n  }\n}\n","import GreetingView from './greeting-view';\nimport app from '../app';\n\nclass Greeting {\n  constructor() {\n    this._view = new GreetingView();\n  }\n\n  init() {\n    this._view.onNext = function () {\n      app.showRules();\n    };\n\n    this._view.showScreen();\n  }\n}\n\nconst greeting = new Greeting();\n\nexport default greeting;\n","const headerInfo = (state) => `\n  <h1 class=\"game__timer\">${state.time}</h1>\n  <div class=\"game__lives\">\n    ${new Array(3 - state.lives).fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n    ${new Array(state.lives).fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n  </div>`;\n\nconst getHeaderInfo = (state) => {\n  return (state) ? headerInfo(state) : ``;\n};\n\nexport default (state) => {\n  return `\n    <header class=\"header\">\n      <div class=\"header__back\">\n        <span class=\"back\">\n          <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n          <img src=\"img/logo_small.png\" width=\"101\" height=\"44\">\n        </span>\n      </div>\n      ${getHeaderInfo(state)}\n    </header>`;\n};\n","import header from '../header.js';\nimport footer from '../footer.js';\nimport AbstractView from '../view.js';\n\nexport default class RulesView extends AbstractView {\n\n  get template() {\n    return `\n    ${header()}\n    <div class=\"rules\">\n      <h1 class=\"rules__title\">Правила</h1>\n      <p class=\"rules__description\">Угадай 10 раз для каждого изображения фото <img\n        src=\"img/photo_icon.png\" width=\"16\" height=\"16\"> или рисунок <img\n        src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\">.<br>\n        Фотографиями или рисунками могут быть оба изображения.<br>\n        На каждую попытку отводится 30 секунд.<br>\n        Ошибиться можно не более 3 раз.<br>\n        <br>\n        Готовы?\n      </p>\n      <form class=\"rules__form\">\n        <input class=\"rules__input\" type=\"text\" placeholder=\"Ваше Имя\">\n        <button class=\"rules__button  continue\" type=\"submit\" disabled>Go!</button>\n      </form>\n    </div>\n    ${footer}`;\n  }\n\n  bind() {\n    const rulesBtn = this.element.querySelector(`.rules__button`);\n    const rulesInput = this.element.querySelector(`.rules__input`);\n\n    rulesInput.addEventListener(`input`, () => {\n      rulesBtn.disabled = rulesInput.value.length === 0;\n    });\n\n    rulesBtn.addEventListener(`click`, () => {\n      event.preventDefault();\n      this.onNext(rulesInput.value);\n    });\n\n    const headerBack = this.element.querySelector(`.header__back`);\n    headerBack.addEventListener(`click`, (evt) => {\n      event.preventDefault();\n      this.onHeaderBack();\n    });\n  }\n}\n","import RulesView from './rules-view';\nimport app from '../app';\nimport model from '../model';\n\nclass Rules {\n  constructor() {\n    this._view = new RulesView();\n  }\n\n  init() {\n    this._view.onNext = function (name) {\n      app.level();\n      model.userName = name;\n    };\n\n    this._view.onHeaderBack = () => {\n      app.reload();\n    };\n\n    this._view.showScreen();\n  }\n}\n\nconst rules = new Rules();\n\nexport default rules;\n","import {getLevel, getTask, checkIsQuestion} from '../data/data'; // потом перенести сюда?\nimport AbstractView from '../view.js';\nimport header from '../header.js';\nimport footer from '../footer.js';\n\nexport default class LevelView extends AbstractView {\n  constructor(state, data) {\n    super();\n    this.state = state;\n    this.level = getLevel(this.state.level, data);\n    this.task = getTask(this.level);\n    this.hasQuestion = checkIsQuestion(this.task);\n    this.time = this.state.time;\n  }\n\n  _getImageType(num) {\n    return this.level.images[num].type;\n  }\n\n  // возвращает input с именем name с формы form\n  _getInputElements(form, name) {\n    return Array.from(form.elements[name]);\n  }\n\n  // возвращает выбранный input\n  _getCheckedInput(arr) {\n    const elem = arr.find((input) => input.checked);\n    return elem;\n  }\n\n  _isAnswered(form) {\n    return this.task.questions.every((question) => {\n      return this._getInputElements(form, question).some((input) => input.checked);\n    });\n  }\n\n  _isQuestionsAnswerRight(form) {\n    return this.task.questions.every((question, index) => {\n      const arr = this._getInputElements(form, question);\n      return this._getCheckedInput(arr).value === this._getImageType(index);\n    });\n  }\n\n  _isChoosenAnswerRight(num) {\n    return this.level.images[num].type === `painting`;\n  }\n\n  _templateQuestion(num) {\n    return `\n      <label class=\"game__answer game__answer--photo\">\n        <input name=\"question-${num}\" type=\"radio\" value=\"photo\">\n        <span>Фото</span>\n      </label>\n      <label class=\"game__answer game__answer--paint\">\n        <input name=\"question-${num}\" type=\"radio\" value=\"painting\">\n        <span>Рисунок</span>\n      </label>`;\n  }\n\n  _templateGameOption(photo, index) {\n    return `\n      <div class=\"game__option\">\n        <img src=\"${photo}\" alt=\"Option ${index}\">\n        ${(this.hasQuestion) ? this._templateQuestion(index) : ``}\n      </div>`;\n  }\n\n  get template() {\n    return `\n      ${header(this.state)}\n      <div class=\"game\">\n        <p class=\"game__task\">${this.task.title}</p>\n        <form class=\"game__content ${this.task.class}\">\n          ${this.level.images.map((value, index) => this._templateGameOption(value.src, index + 1)).join(``)}\n        </form>\n      </div>\n      <div class=\"stats\">\n        <ul class=\"stats\">\n          ${this.state.results.map((item) => `<li class=\"stats__result stats__result--${item}\"></li>`).join(``)}\n        </ul>\n      </div>\n      ${footer}`;\n  }\n\n  bind() {\n    // установка таймера времени\n    const gameTimer = this.element.querySelector(`.game__timer`);\n\n    const timer = setInterval(() => {\n      this.time--;\n      gameTimer.innerHTML = `${this.time}`;\n      if (this.time === 0) {\n        clearInterval(timer);\n        this.onNext(false, this.time);\n      }\n    }, 1000);\n\n    const gameContent = this.element.querySelector(`.game__content`);\n    const gameOptions = this.element.querySelectorAll(`.game__option`);\n\n    Array.from(gameOptions).forEach((option, optionIndex) => {\n      option.addEventListener(`click`, (evt) => {\n        if (this.hasQuestion && this._isAnswered(gameContent)) {\n          clearInterval(timer);\n          this.onNext(this._isQuestionsAnswerRight(gameContent), this.time);\n        }\n        if (!this.hasQuestion) {\n          clearInterval(timer);\n          this.onNext(this._isChoosenAnswerRight(optionIndex), this.time);\n        }\n      });\n    });\n\n    // обработка возврата на начальный экрн\n    const headerBack = this.element.querySelector(`.header__back`);\n\n    headerBack.addEventListener(`click`, (evt) => {\n      event.preventDefault();\n      this.onHeaderBack();\n    });\n\n  }\n}\n","import LevelView from './level-view';\nimport model from '../model';\nimport dataAdapter from '../data/data-adapter';\nimport {Rules, getNextState, getLevelResult} from '../data/data';\nimport app from '../app';\n\nexport default class GamePresenter {\n  constructor(state, data) {\n    this.state = state;\n    this.data = data;\n    this._view = new LevelView(this.state, this.data);\n  }\n\n  init() {\n    this._view.onNext = (isAnswerRight, time) => {\n      const levelResult = getLevelResult(isAnswerRight, time);\n      const nextState = getNextState(this.state, levelResult);\n      this.state.lives -= 1;\n\n      if (nextState.level <= Rules.LEVELS_QUANTITY && nextState.lives > 0) {\n        const nextLevel = new GamePresenter(nextState, this.data);\n        nextLevel.init();\n      } else {\n        model.send(this.state, dataAdapter)\n          .then(app.showStats);\n      }\n    };\n\n    this._view.onHeaderBack = () => {\n      app.reload();\n    };\n\n    this._view.showScreen();\n  }\n}\n","import header from '../header.js';\nimport footer from '../footer.js';\nimport AbstractView from '../view.js';\nimport {Rules, PassOptions} from '../data/data';\n\nexport default class StatsView extends AbstractView {\n  constructor(results) {\n    super();\n    this.results = results;\n    this.gameAmount = this.results.length;\n  }\n\n  getGameResult(num) {\n    return this.results[num].lives > 0;\n  }\n\n  failedGameTemplate(game, index) {\n    return `<table class=\"result__table\">\n              <tr>\n                <td class=\"result__number\">${index + 1}.</td>\n                <td>\n                  <ul class=\"stats\">\n                    ${this.showStatsLine(game)}\n                  </ul>\n                </td>\n                <td class=\"result__total\"></td>\n                <td class=\"result__total  result__total--final\">fail</td>\n              </tr>\n            </table>`;\n  }\n\n  showStatsLine(game) {\n    return game.stats.map((item) => `<li class=\"stats__result stats__result--${item}\"></li>`).join(``);\n  }\n\n  countBonuses(arr) {\n    let bonuses = {};\n\n    arr.forEach((item) => {\n      bonuses[item] = bonuses[item] || 0;\n      bonuses[item]++;\n    });\n\n    return bonuses;\n  }\n\n  showBonus(conditions, bonuses) {\n    console.log(bonuses);\n    return bonuses ? `<tr>\n              <td></td>\n              <td class=\"result__extra\">${conditions.name}:</td>\n              <td class=\"result__extra\">${bonuses} <span class=\"stats__result stats__result--${conditions.class}\"></span></td>\n              <td class=\"result__points\">×&nbsp;${Math.abs(conditions.cost)}</td>\n              <td class=\"result__total\">${conditions.cost * bonuses}</td>\n            </tr>` : ``;\n  }\n\n  getSumCorrectAnswer(bonuses) {\n    return (Rules.LEVELS_QUANTITY - (bonuses[PassOptions.WRONG.class] || 0)) * PassOptions.CORRECT.cost;\n  }\n\n  getTotalSum(game, bonuses) {\n    const sum = (bonuses[PassOptions.FAST.class] || 0) * PassOptions.FAST.cost\n           + (bonuses[PassOptions.SLOW.class] || 0) * PassOptions.SLOW.cost\n           + game.lives * PassOptions.HEART.cost\n           + this.getSumCorrectAnswer(bonuses);\n    return sum;\n  }\n\n  wonGameTemplate(game, index) {\n    const bonuses = this.countBonuses(game.stats);\n    return `<table class=\"result__table\">\n          <tr>\n            <td class=\"result__number\">${index + 1}.</td>\n            <td colspan=\"2\">\n              <ul class=\"stats\">\n                ${this.showStatsLine(game)}\n              </ul>\n            </td>\n            <td class=\"result__points\">×&nbsp;${PassOptions.CORRECT.cost}</td>\n            <td class=\"result__total\">${this.getSumCorrectAnswer(bonuses)}</td>\n          </tr>\n            ${this.showBonus(PassOptions.FAST, bonuses[PassOptions.FAST.class])}\n            ${this.showBonus(PassOptions.HEART, game.lives)}\n            ${this.showBonus(PassOptions.SLOW, bonuses[PassOptions.SLOW.class])}\n          <tr>\n            <td colspan=\"5\" class=\"result__total  result__total--final\">${this.getTotalSum(game, bonuses)}</td>\n          </tr>\n        </table>`;\n  }\n\n  showGameResult(results) {\n    return results.map((item, index) => {\n      return (item.lives > 0) ? this.wonGameTemplate(item, index) : this.failedGameTemplate(item, index);\n    }).join(``);\n  }\n\n  get template() {\n    const statsContent = `\n      <div class=\"result\">\n        <h1>${this.getGameResult(this.gameAmount - 1) ? `Вы выиграли!` : `Вы проиграли..`}</h1>\n        ${this.showGameResult(this.results)}\n      </div>`;\n    return `\n      ${header()}\n      ${statsContent}\n      ${footer}`;\n  }\n\n  bind() {\n    const headerBack = this.element.querySelector(`.header__back`);\n    headerBack.addEventListener(`click`, (evt) => {\n      event.preventDefault();\n      this.onHeaderBack();\n    });\n  }\n}\n","import StatsView from './stats-view';\nimport model from '../model';\nimport app from '../app';\n\n\nexport default class {\n  init() {\n    model.loadResults()\n      .then((results) => {\n        this._view = new StatsView(results);\n        this._view.onHeaderBack = () => {\n          app.reload();\n        };\n\n        this._view.showScreen();\n      });\n  }\n}\n\n","import model from './model';\nimport {initialState, PassOptions, Rules} from './data/data';\nimport dataAdapter from './data/data-adapter';\nimport intro from './screens/intro';\nimport greeting from './screens/greeting';\nimport rules from './screens/rules';\nimport GamePresenter from './screens/level';\nimport Stats from './screens/stats';\n\n\nconst ControllerID = {\n  GREETING: ``,\n  RULES: `rules`,\n  GAME: `game`,\n  STATS: `stats`\n};\n\nclass App {\n  constructor() {\n    model.load(dataAdapter)\n      .then((data) => this.setup(data))\n      .then(setTimeout(() => this._changeController(this._getHash()), 2000));\n  }\n\n  setup(data) {\n    Rules.LEVELS_QUANTITY = Object.keys(data).length;\n    initialState.results = new Array(Rules.LEVELS_QUANTITY).fill(PassOptions.UNKNOWN.class);\n\n    this.routes = {\n      [ControllerID.GREETING]: greeting,\n      [ControllerID.RULES]: rules,\n      [ControllerID.GAME]: new GamePresenter(initialState, data),\n      [ControllerID.STATS]: new Stats()\n    };\n\n    window.addEventListener(`hashchange`, (evt) => {\n      this._changeController(this._getHash());\n    });\n  }\n\n  _getHash() {\n    return location.hash.replace(`#`, ``);\n  }\n\n  _changeController(route) {\n    const controller = this.routes[route];\n\n    if (!controller) {\n      this.showGreeting();\n    } else {\n      controller.init();\n    }\n  }\n\n  showIntro() {\n    location.hash = ControllerID.INTRO;\n  }\n\n  showGreeting() {\n    location.hash = ControllerID.GREETING;\n  }\n\n  showRules() {\n    location.hash = ControllerID.RULES;\n  }\n\n  level() {\n    location.hash = ControllerID.GAME;\n  }\n\n  showStats(state) {\n    location.hash = ControllerID.STATS;\n  }\n\n  init() {\n    intro.init();\n  }\n\n  reload() {\n    location.href = location.origin;\n  }\n}\n\nconst app = new App();\n\nexport default app;\n","import app from './app';\napp.init();\n"],"names":["footer","Rules"],"mappings":"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"}